{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Import Libraries"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {
    "colab": {
     "base_uri": "https://localhost:8080/",
     "height": 52
    },
    "colab_type": "code",
    "id": "Qds5OKhOgBrm",
    "outputId": "baf407b5-2e02-4b2a-d513-df4f51c2d07e"
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[nltk_data] Downloading package stopwords to\n",
      "[nltk_data]     C:\\Users\\windows\\AppData\\Roaming\\nltk_data...\n",
      "[nltk_data]   Package stopwords is already up-to-date!\n"
     ]
    }
   ],
   "source": [
    "from __future__ import division\n",
    "import numpy as np\n",
    "import pandas as pd\n",
    "import string\n",
    "import re\n",
    "from sklearn.model_selection import train_test_split\n",
    "import nltk\n",
    "from nltk.corpus import stopwords\n",
    "nltk.download('stopwords')\n",
    "stopwords = stopwords.words('english')\n",
    "import matplotlib.pyplot as plt\n",
    "\n",
    "from collections import Counter\n",
    "# Read in tweet data\n",
    "tweets = pd.read_csv('Tweets.csv')\n",
    "\n",
    "df = tweets.copy()[['airline_sentiment', 'text']]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Pre-processing"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Raw Dataframe:\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>airline_sentiment</th>\n",
       "      <th>text</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>positive</td>\n",
       "      <td>virginamerica plus youve added commercials to ...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>positive</td>\n",
       "      <td>virginamerica yes nearly every time i fly vx t...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>positive</td>\n",
       "      <td>virginamerica well i didnt‚Ä¶but now i do d</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>positive</td>\n",
       "      <td>virginamerica it was amazing and arrived an ho...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>positive</td>\n",
       "      <td>virginamerica i ltcontnum pretty graphics so m...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>5</td>\n",
       "      <td>positive</td>\n",
       "      <td>virginamerica this is such a great deal alread...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>6</td>\n",
       "      <td>positive</td>\n",
       "      <td>virginamerica virginmedia im flying your fabul...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>7</td>\n",
       "      <td>positive</td>\n",
       "      <td>virginamerica thanks</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>8</td>\n",
       "      <td>positive</td>\n",
       "      <td>virginamerica so excited for my first cross co...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>9</td>\n",
       "      <td>positive</td>\n",
       "      <td>i ‚ù§Ô∏è flying virginamerica ‚ò∫Ô∏èüëç</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  airline_sentiment                                               text\n",
       "0          positive  virginamerica plus youve added commercials to ...\n",
       "1          positive  virginamerica yes nearly every time i fly vx t...\n",
       "2          positive          virginamerica well i didnt‚Ä¶but now i do d\n",
       "3          positive  virginamerica it was amazing and arrived an ho...\n",
       "4          positive  virginamerica i ltcontnum pretty graphics so m...\n",
       "5          positive  virginamerica this is such a great deal alread...\n",
       "6          positive  virginamerica virginmedia im flying your fabul...\n",
       "7          positive                               virginamerica thanks\n",
       "8          positive  virginamerica so excited for my first cross co...\n",
       "9          positive                      i ‚ù§Ô∏è flying virginamerica ‚ò∫Ô∏èüëç"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "print('Raw Dataframe:')\n",
    "df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 1080x720 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Plot sentiment distribution\n",
    "df['airline_sentiment'].value_counts().plot(kind = 'barh',\n",
    "                                            figsize = (15,10));\n",
    "plt.title('Airline Sentiment Distribution', \n",
    "          fontsize = 26, weight = 'bold')\n",
    "plt.xlabel('Frequency', fontsize = 22)\n",
    "plt.xticks(fontsize = 20)\n",
    "plt.yticks(fontsize = 20);"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Define number of classes and number of tweets per class"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {
    "colab": {},
    "colab_type": "code",
    "id": "kFJ44vjylPCi"
   },
   "outputs": [],
   "source": [
    "n_class = 2\n",
    "n_tweet = 2363\n",
    "\n",
    "# Divide into number of classes\n",
    "if n_class == 2:\n",
    "    df_pos = df.copy()[df.airline_sentiment == 'positive'][:n_tweet]\n",
    "    df_neg = df.copy()[df.airline_sentiment == 'negative'][:n_tweet]\n",
    "    df_neu = pd.DataFrame()\n",
    "    df = pd.concat([df_pos, df_neg], ignore_index=True).reset_index(drop=True)\n",
    "elif n_class == 3:\n",
    "    df_pos = df.copy()[df.airline_sentiment == 'positive'][:n_tweet]\n",
    "    df_neg = df.copy()[df.airline_sentiment == 'negative'][:n_tweet]\n",
    "    df_neu = df.copy()[df.airline_sentiment == 'neutral'][:n_tweet]\n",
    "    df = pd.concat([df_pos, df_neg, df_neu], ignore_index=True).reset_index(drop=True)\n",
    "\n",
    "# Define functions to process Tweet text and remove stop words\n",
    "def ProTweets(tweet):\n",
    "    tweet = ''.join(c for c in tweet if c not in string.punctuation)\n",
    "    tweet = re.sub('((www\\S+)|(http\\S+))', 'urlsite', tweet)\n",
    "    tweet = re.sub(r'\\d+', 'contnum', tweet)\n",
    "    tweet = re.sub(' +',' ', tweet)\n",
    "    tweet = tweet.lower().strip()\n",
    "    return tweet\n",
    "\n",
    "def rmStopWords(tweet, stop_words):\n",
    "    text = tweet.split()\n",
    "    text = ' '.join(word for word in text if word not in stop_words)\n",
    "    return text"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Reading a list of stop words and processing each line of tweets in the dataframe using the function we've defined above."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {
    "colab": {},
    "colab_type": "code",
    "id": "QivRGqCzoxDy"
   },
   "outputs": [],
   "source": [
    "stopwords = [''.join(c for c in s if c not in string.punctuation) for s in stopwords]\n",
    "stopwords = [t.encode('utf-8') for t in stopwords]\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Preprocess all tweet data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Preprocess all tweet data\n",
    "pro_tweets = []\n",
    "for tweet in df['text']:\n",
    "    processed = ProTweets(tweet)\n",
    "    pro_stopw = rmStopWords(processed, stopwords)\n",
    "    pro_tweets.append(pro_stopw)\n",
    "\n",
    "df['text'] = pro_tweets"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {
    "colab": {},
    "colab_type": "code",
    "id": "M1q5Mr0Yo3UC"
   },
   "outputs": [],
   "source": [
    "X_train, X_test, y_train, y_test = train_test_split(df['text'], df['airline_sentiment'], test_size=0.33, random_state=0)\n",
    "\n",
    "df_train = pd.DataFrame()\n",
    "df_test = pd.DataFrame()\n",
    "\n",
    "df_train['text'] = X_train\n",
    "df_train['airline_sentiment'] = y_train\n",
    "df_train = df_train.reset_index(drop=True)\n",
    "\n",
    "df_test['text'] = X_test\n",
    "df_test['airline_sentiment'] = y_test\n",
    "df_test = df_test.reset_index(drop=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Start training (input training set df_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {
    "colab": {},
    "colab_type": "code",
    "id": "FXgAEdxepSd2"
   },
   "outputs": [],
   "source": [
    "class TweetNBClassifier(object):\n",
    "\n",
    "    def __init__(self, df_train):\n",
    "        self.df_train = df_train\n",
    "        self.df_pos = df_train.copy()[df_train.airline_sentiment == 'positive']\n",
    "        self.df_neg = df_train.copy()[df_train.airline_sentiment == 'negative']\n",
    "        self.df_neu = df_train.copy()[df_train.airline_sentiment == 'neutral']\n",
    "\n",
    "    def fit(self):\n",
    "        Pr_pos = df_pos.shape[0]/self.df_train.shape[0]\n",
    "        Pr_neg = df_neg.shape[0]/self.df_train.shape[0]\n",
    "        Pr_neu = df_neu.shape[0]/self.df_train.shape[0]\n",
    "        self.Prior  = (Pr_pos, Pr_neg, Pr_neu)\n",
    "\n",
    "        self.pos_words = ' '.join(self.df_pos['text'].tolist()).split()\n",
    "        self.neg_words = ' '.join(self.df_neg['text'].tolist()).split()\n",
    "        self.neu_words = ' '.join(self.df_neu['text'].tolist()).split()\n",
    "\n",
    "        all_words = ' '.join(self.df_train['text'].tolist()).split()\n",
    "\n",
    "        self.vocab = len(Counter(all_words))\n",
    "\n",
    "        wc_pos = len(' '.join(self.df_pos['text'].tolist()).split())\n",
    "        wc_neg = len(' '.join(self.df_neg['text'].tolist()).split())\n",
    "        wc_neu = len(' '.join(self.df_neu['text'].tolist()).split())\n",
    "        self.word_count = (wc_pos, wc_neg, wc_neu)\n",
    "        return self\n",
    "\n",
    "\n",
    "    def predict(self, df_test):\n",
    "        class_choice = ['positive', 'negative', 'neutral']\n",
    "\n",
    "        classification = []\n",
    "        for tweet in df_test['text']:\n",
    "            text = tweet.split()\n",
    "\n",
    "            val_pos = np.array([])\n",
    "            val_neg = np.array([])\n",
    "            val_neu = np.array([])\n",
    "            for word in text:\n",
    "                tmp_pos = np.log((self.pos_words.count(word)+1)/(self.word_count[0]+self.vocab))\n",
    "                tmp_neg = np.log((self.neg_words.count(word)+1)/(self.word_count[1]+self.vocab))\n",
    "                tmp_neu = np.log((self.neu_words.count(word)+1)/(self.word_count[2]+self.vocab))\n",
    "                val_pos = np.append(val_pos, tmp_pos)\n",
    "                val_neg = np.append(val_neg, tmp_neg)\n",
    "                val_neu = np.append(val_neu, tmp_neu)\n",
    "\n",
    "            val_pos = np.log(self.Prior[0]) + np.sum(val_pos)\n",
    "            val_neg = np.log(self.Prior[1]) + np.sum(val_neg)\n",
    "            val_neu = np.log(self.Prior[2]) + np.sum(val_neu)\n",
    "\n",
    "            probability = (val_pos, val_neg, val_neu)\n",
    "            classification.append(class_choice[np.argmax(probability)])\n",
    "        return classification\n",
    "\n",
    "\n",
    "    def score(self, feature, target):\n",
    "\n",
    "        compare = []\n",
    "        for i in range(0,len(feature)):\n",
    "            if feature[i] == target[i]:\n",
    "                tmp ='correct'\n",
    "                compare.append(tmp)\n",
    "            else:\n",
    "                tmp ='incorrect'\n",
    "                compare.append(tmp)\n",
    "        r = Counter(compare)\n",
    "        accuracy = r['correct']/(r['correct']+r['incorrect'])\n",
    "        return accuracy"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Running the classifier to see how well its done on our test data!"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {
    "colab": {
     "base_uri": "https://localhost:8080/",
     "height": 52
    },
    "colab_type": "code",
    "id": "ITiJY4GopbbN",
    "outputId": "2deb2b86-2427-4b6c-9cd7-739c3a38bfb9"
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "G:\\anaconda3\\lib\\site-packages\\ipykernel_launcher.py:50: RuntimeWarning: divide by zero encountered in log\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.926923076923077\n"
     ]
    }
   ],
   "source": [
    "tnb = TweetNBClassifier(df_train)\n",
    "tnb = tnb.fit()\n",
    "predict = tnb.predict(df_test)\n",
    "score = tnb.score(predict,df_test.airline_sentiment.tolist())\n",
    "print(score)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "colab": {},
    "colab_type": "code",
    "id": "92lAO42UpgM5"
   },
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "colab": {
   "collapsed_sections": [],
   "name": "SentiA.ipynb",
   "provenance": []
  },
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
